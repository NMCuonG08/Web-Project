<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nav Menu</title>
  
<body>



<div class="container mt-5">
  <div class="row">
    
    <div class="col-lg-8">
      <h1>{{this.topArticle.title}}</h1>
      <img class="card-img-top" style="max-width:60%; max-height:60%"  src={{extractFirstImage this.topArticle.title}} alt="Card image cap">
      <div class="article-info">
        <p class="read-time">
            <i class="fas fa-clock"></i> 
        </p>
        <p class="updated-time">Updated 9:55 AM EST, Sat December 7, 2024</p>
        <p class="updated-time" style="color: red; font-size:15px" >{{this.topArticle.category_name}}</p>
      </div>
      <div class="social-icons">
        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="social-icon"><i class="fa-brands fa-twitter"></i></a>
        <a href="#" class="social-icon"><i class="fas fa-envelope"></i></a>
        <a href="#" class="social-icon"><i class="fas fa-link"></i></a>
      </div>
      {{#if this.empty}}
       <div class="card-body">
        Không có dữ liệu.
      </div>
      {{else}}
      <div class="row">
        {{#each this.articles}}
        <div class="col-md-6">
          <div class="card mb-4">
            <img class="card-img-top custom-img" src={{extractFirstImage content}} alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title">{{title}}</h5>
              <p class="card-text">{{summary}}</p>
                 <p class="updated-time">Updated {{formatDate updated_at}}</p>
               <p class="updated-time" style="color: red; font-size:15px" >{{category_name}}</p>
            </div>
          </div>
        </div>
        {{/each}}
      </div>
      {{/if}}
    </div>

    
    <div class="col-lg-4">
      <div class="card">
        <div class="card-header">
          | Top 10 most viewed articles
        </div>
        <ul class="list-group list-group-flush">
          {{#if empty}}
          <li class="list-group-item">Không có dữ liệu.</li>
          {{else}}
          {{#each this.mostViewedArticles}}
          <li class="list-group-item ">
            <div class="d-flex align-items-center" >
              <img src={{extractFirstImage content}} class="mr-3" alt="Story 1">
              <a href="#" class="short-description">{{summary}}</a>
            </div>
            <p class="updated-time">  Updated {{formatDate updated_at}}</p>
             <p class="updated-time" style="color: red; font-size:15px" >{{category_name}}</p>
          </li>
          {{/each}}
          {{/if}}
         
        </ul>
      </div>
    </div>
  </div>
  <div class="card">
        <div class="card-header">
          | Top 10 latest Articles
        </div>
          {{#if this.empty}}
    <div class="card-body">
      Không có dữ liệu.
    </div>
  {{else}}
    <div id="Lastest" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        {{#each (chunk this.latestArticles 3) as |articleGroup index|}}
          <div class="carousel-item {{#if @first}}active{{/if}}">
            <div class="row">
              {{#each articleGroup}}
                <div class="col-md-4">
                  <div class="card mb-4">
                    <img class="card-img-top custom-img" src="{{extractFirstImage content}}" alt="Card image cap">
                    <div class="card-body">
                      <h5 class="card-title">{{title}}</h5>
                      <p class="card-text">{{summary}}</p>
                        <p class="updated-time">Updated {{formatDate updated_at}}</p>
                        <p class="updated-time" style="color: red; font-size:15px" >{{category_name}}</p>
                    </div>
                  </div>
                </div>
              {{/each}}
            </div>
          </div>
        {{/each}}
      </div>
      <a class="carousel-control-prev" href="#Lastest" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#Lastest" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  {{/if}}
</div>
<div class="card">
        <div class="card-header">
          | Top categories
        </div>
          {{#if this.empty}}
    <div class="card-body">
      Không có dữ liệu.
    </div>
  {{else}}
        <div class="row">
      {{#each this.topCategoriesByViews as |category|}}
        <div class="col-md-4">
          <div class="card mb-4">
            <div class="card-header">
              <h4 class="card-title " style="color:red" >| {{category.category}}</h4>
            </div>
            <div class="card-body">
              {{#if category.article}}
                <img class="card-img-top custom-img" src="{{extractFirstImage category.latestArticle.content}}" alt="Card image cap">
                <h6 class="card-title">{{category.article.title}}</h6>
                <p class="card-text">{{category.article.summary}}</p>
                  <p class="updated-time">Updated {{formatDate updated_at}}</p>
                <a href="/articles/{{category.article.id}}" class="btn btn-primary">Read More</a>
              {{else}}
                <p>No articles available</p>
              {{/if}}
            </div>
          </div>
        </div>
      {{/each}}
    </div>
   {{/if}}
      </div>
</div>


<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="js/index.js"></script>


</body>
</html>